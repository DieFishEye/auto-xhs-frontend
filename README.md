# `自动化小红书` 客户端 教程文档

## 1 快速入门

1. 双击`自动小红书.exe`打开，进入黑色终端界面；

   > 此处如果卡顿不显示，按键盘上的1，应该就显示了，这种是缓冲迟钝，并非程序问题

   ![截图_20231108190353](https://gitee.com/xiaogugyx/drawing-bed/raw/master/%E6%88%AA%E5%9B%BE_20231108190353.png)

2. 登录你的账号，输入账号后，提示输入密码，此处密码正常输入后，是无法看见的（这是为了确保密码不可见性），输入完成直接回车即可。

   ![截图_20231108190734](https://gitee.com/xiaogugyx/drawing-bed/raw/master/%E6%88%AA%E5%9B%BE_20231108190734.png)

3. 之后进入菜单区域，简单认识一下功能主菜单，其中`[adminer]$`后可以输入内容，`adminer`表示当前登录的用户。

   ![截图_20231108190903](https://gitee.com/xiaogugyx/drawing-bed/raw/master/%E6%88%AA%E5%9B%BE_20231108190903.png)

4. 先进行`修改配置`（输入`1`按回车），按照提示进行操作，配置成你所需要的配置。

   ![截图_20231108191209](https://gitee.com/xiaogugyx/drawing-bed/raw/master/%E6%88%AA%E5%9B%BE_20231108191209.png)

5. 所有设置均有引导，接下来说一下比较重要的两点，设置`搜索词`与`评论文件的路径`，多个搜索词可以这样的格式保存`搜索词1|搜索词2|...`，单个搜索词直接就是`搜索词`吗，至于多搜索词开关，目前并无实际作用，不用管。

   

6. 接下来就是`评论路径`设置，这里的评论文件应该是`.txt`格式最好，每行对应一条评论，对于黑色终端，可以长按你的评论文件，然后拖动到窗口处

   ![截图_20231108191737](https://gitee.com/xiaogugyx/drawing-bed/raw/master/%E6%88%AA%E5%9B%BE_20231108191737.png)

   直接回车就是保存，如果不合法，会有提示的。保存成功后如下：

   ![截图_20231108191753](https://gitee.com/xiaogugyx/drawing-bed/raw/master/%E6%88%AA%E5%9B%BE_20231108191753.png)

7. 根据提示，按`q`或者直接`回车`返回上一级功能菜单（`主菜单`）。

   ![截图_20231108192013](https://gitee.com/xiaogugyx/drawing-bed/raw/master/%E6%88%AA%E5%9B%BE_20231108192013.png)

8. 接下来输入`2`，按照提示`扫码`，然后扫码`成功后关闭图片`，回到终端界面，`设置爬虫的名称`（不要重复！不要重复！简单好记的一串数字序号就行！！）

   ![截图_20231108192238](https://gitee.com/xiaogugyx/drawing-bed/raw/master/%E6%88%AA%E5%9B%BE_20231108192238.png)

   ![截图_20231108192316](https://gitee.com/xiaogugyx/drawing-bed/raw/master/%E6%88%AA%E5%9B%BE_20231108192316.png)

9. 设置完名称后，提示你需不需要立刻激活爬虫，根据你的需求来，激活后就按照配置中的任务默默运行了，此处是快速入门的教程，我选择激活，输入`y`即可。

   ![截图_20231108192459](https://gitee.com/xiaogugyx/drawing-bed/raw/master/%E6%88%AA%E5%9B%BE_20231108192459.png)

10. 如何查看日志呢，在`自动化小红书.exe`的同级目录下，有一个文件夹`日志-用户名`，里面就是爬虫的日志文件，比如我这里的爬虫名称是`10086`，那么该日志文件就是`10086.csv`

    ![截图_20231108192518](https://gitee.com/xiaogugyx/drawing-bed/raw/master/%E6%88%AA%E5%9B%BE_20231108192518.png)

    ![截图_20231108192654](https://gitee.com/xiaogugyx/drawing-bed/raw/master/%E6%88%AA%E5%9B%BE_20231108192654.png)

11. 该文件可以通过`excel`等软件打开，但是不推荐（会乱码），你可以在终端输入`log 爬虫名称`，比如我这里就是【log 10086】，就可以查看这个爬虫产生的日志了。

    ![截图_20231108192900](https://gitee.com/xiaogugyx/drawing-bed/raw/master/%E6%88%AA%E5%9B%BE_20231108192900.png)

## 2 功能介绍

### 2.1 修改配置

> 该功能在主菜单的第`1`选项，输入`1`回车后可以看到一个表格，表格里呈现的就是当前配置信息，根据提示可以设置不同的项，同时设置值时，前后端均加了校验，防止乱写乱填。
>
> **实际上，配置功能中的信息就是`自动小红书.exe`同级目录下的`settings.ini`，因此请勿删除该文件**

### 2.2 添加爬虫

> 该功能在主菜单的第`2`选项，输入`2`回车后，将会检查配置文件中的依赖和设定是不是合法的，合法的话，就会提示是否确定创建爬虫，然后就是一系列的扫码、命名，最终将创建的爬虫放置于内存中。

### 2.3 查看爬虫

> 该功能在主菜单的第`3`选项，输入`3`回车后，你可以看到你所创建的爬虫状况（比较简单的状况，详细的可以了解终端命令中的`show`命令）

![截图_20231108194728](https://gitee.com/xiaogugyx/drawing-bed/raw/master/%E6%88%AA%E5%9B%BE_20231108194728.png)

### 2.4 操作爬虫

> 该功能在主菜单的第`4`选项，输入`4`回车后，会提示你输入要操作的爬虫名称，每个爬虫的名称都是唯一的，请不要输入重复的名称，当然，创建爬虫的时候会有提示的。如果爬虫存在的话，你输入回车后，应该会让你对爬虫进行下一步的操作：
>
> **操作序号：1 激活 | 2 暂停 | 3 恢复 | 4 终止 | 5 删除**
>
> `激活`，就是让爬虫真正的**从0开始运行**起来，按照你部署的任务，进行自动化的操作并产生日志文件在你的本地文件夹中。
>
> `暂停`，就是激活了之后，你的爬虫状态处于`运行中`，你可以输入`2`对爬虫下达暂停命令，暂停会有轻微的延迟，无法做到立刻就暂停的。
>
> `恢复`，当你爬虫被`暂停`后，你可以进行恢复，让它恢复运行。**注意，暂停后的爬虫并不能通过激活的方式恢复！**
>
> `终止`，倘若你的爬虫没有被终止过，那么你可以让它彻底停止，`终止`了的爬虫将不保留之前的运行态，会彻底终止休眠，但是可以通过`激活`的方式重新让爬虫工作。
>
> `删除`，与`终止`的区别就是，删除不仅终止爬虫，还会彻底从内存中移除该爬虫，你无法通过任何命令和功能查看被删除了的爬虫。

### 2.5 修改爬虫

> 该功能存在`bug`，暂时下线

### 2.6 浏览日志

> 该功能在主菜单的第`6`选项，输入`6`回车后，会提示你输入简单的命令，比如：

```python
# 直接输入爬虫名称，可以查看该爬虫工作期间的所有日志
10086
# 在爬虫名称后面加个数字 n，查看该爬虫工作期间的最新 n 行日志
10086 10
```

![截图_20231108195407](https://gitee.com/xiaogugyx/drawing-bed/raw/master/%E6%88%AA%E5%9B%BE_20231108195407.png)

### 2.7 用户信息

> 该功能在主菜单的第`7`选项，输入`7`回车后，会显示当前用户的账号和爬虫数量的最大额度。

## 3 基本操作

> 其实操作非常的简单，**注意看提示**，你再决定输入什么，就是修改配置 > 添加爬虫 > 操作爬虫 > 查看爬虫，相互搭配即可。用得比较多的是`终端命令以及操作爬虫`

## 4 终端命令

### help

> 帮助命令，当你输入`help`，回车后可以看到系统给你这么一些帮助，这些命令都十分简单，你在主菜单目录的那一级输入这些命令即可。

![截图_20231108202845](https://gitee.com/xiaogugyx/drawing-bed/raw/master/%E6%88%AA%E5%9B%BE_20231108202845.png)

> 比较常用的是`show`命令、`log`命令以及`urls`命令。

### show 爬虫名

> **下面的小红书编号是什么呢？**
>
> https://www.xiaohongshu.com/user/profile/小红书编号
>
> 这个就是小红书账号对应的主页
>
> **session前段与session后段是干什么的呢？**
>
> 决定登录状态，一旦失效，对应的登录也会失效，后续出了补登工具可能会用到。

![截图_20231108203124](https://gitee.com/xiaogugyx/drawing-bed/raw/master/%E6%88%AA%E5%9B%BE_20231108203124.png)

### log 爬虫名

> **下方级别是什么？**
>
> 一旦级别中出现`error`，那就是某些操作出现了失败。

![截图_20231108203232](https://gitee.com/xiaogugyx/drawing-bed/raw/master/%E6%88%AA%E5%9B%BE_20231108203232.png)

### urls 爬虫名

> **下述笔记ID有什么用呢？**
>
> https://www.xiaohongshu.com/explore/笔记ID
>
> 这就是某条笔记的地址，这个笔记ID也就是上方日志的编号。

![截图_20231108203425](https://gitee.com/xiaogugyx/drawing-bed/raw/master/%E6%88%AA%E5%9B%BE_20231108203425.png)